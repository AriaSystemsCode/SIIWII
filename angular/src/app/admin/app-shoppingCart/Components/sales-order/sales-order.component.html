<div class="orderForm">
    <div class="container-fluid">
        <div
            class="header my-2 d-flex align-items-center justify-content-between"
        >
            <h6><span> Entered By : </span> {{ fullName }}</h6>
            <button
                [disabled]="!(isContactsValid && isSalesOrderValidForm())"
                *ngIf="ShoppingCartMode.createOrEdit"
                (click)="showPreview()"
                class="savebtn text-center btn float-right"
            >
                Continue
            </button>
            <button
                *ngIf="isReviewMode"
                (click)="showEdirMode()"
                class="previewbtn text-center btn float-right"
            >
                Change
                <i class="pi pi-pencil"></i>
            </button>
        </div>
        <hr class="my-2" />
        <div class="orderInfoForm pr-3 thin-scroll">
            <app-contact
                [activeTab]="activeTab"
                [appTransactionsForViewDto]="appTransactionsForViewDto"
                (updateAppTransactionsForViewDto)="onUpdateAppTransactionsForViewDto($event)"
                [isReviewMode]="isReviewMode"
                (formValidityChanged)="isContactFormValid($event)"
                [showDepartment]="activeTab == shoppingCartoccordionTabs.BuyerContactInfo"
            ></app-contact>

            <div class="row">
                <!-- classification -->
                <div class="col-md-12 mt-3">
                    <div *ngIf="ShoppingCartMode.createOrEdit" class="d-flex flex-column">
                        <label class="label">Classifications</label>
                        <div
                            class="border rounded w-100 d-flex align-tems-center justify-content-lg-start py-2 px-3"
                        >
                            <p
                                class="previewValue classificationsValues mr-2 p-0 my-0"
                                *ngFor="
                                    let item of appTransactionsForViewDto?.entityClassifications
                                "
                            >
                                {{ item.label }}
                            </p>
                            <p
                                *ngIf="
                                    appTransactionsForViewDto?.entityClassifications
                                        .length === 0
                                "
                                class="p-0 m-0 customPlaceHolder"
                            >
                                Please select Classification From Tree below
                            </p>
                        </div>
                        <div class="border">
                            <p-tree
                                class="w-full md:w-30rem"
                                [value]="classificationsFiles"
                                (onNodeExpand)="
                                    classificationNodeExpand($event)
                                "
                                [loading]="loading"
                                selectionMode="checkbox"
                                (onNodeSelect)="
                                    classififcationNodeSelect($event)
                                "
                                [(selection)]="
                                    appTransactionsForViewDto.entityClassifications
                                "
                            ></p-tree>
                        </div>
                    </div>
                    <div *ngIf="ShoppingCartMode.view">
                        <div
                            class="d-flex align-items-center justify-content-between w-75"
                        >
                            <h6 class="previewTitle m-0 p-0">
                                Classifications :
                            </h6>
                            <p
                                class="previewValue classificationsValues m-0 p-0"
                                *ngFor="
                                    let item of appTransactionsForViewDto?.entityClassifications
                                "
                            >
                                {{ item }}
                            </p>
                        </div>
                    </div>
                </div>
                <!-- classification -->

                <!-- categories -->
                <div class="col-md-12 mt-3">
                    <div *ngIf="ShoppingCartMode.createOrEdit" class="d-flex flex-column">
                        <label class="label">Categories</label>
                        <div
                            class="border rounded w-100 d-flex align-tems-center justify-content-lg-start py-2 px-3"
                        >
                            <p
                                class="previewValue categoriesValues mr-2 p-0 my-0"
                                *ngFor="
                                    let item of appTransactionsForViewDto?.entityCategories
                                "
                            >
                                {{ item.label }}
                            </p>
                            <p
                                *ngIf="
                                    appTransactionsForViewDto?.entityCategories
                                        .length === 0
                                "
                                class="p-0 m-0 customPlaceHolder"
                            >
                                Please select Categories From Tree below
                            </p>
                        </div>
                        <div class="border">
                            <p-tree
                                class="w-full md:w-30rem"
                                [value]="categoriesFiles"
                                (onNodeExpand)="categoriesNodeExpand($event)"
                                [loading]="loading"
                                selectionMode="checkbox"
                                (onNodeSelect)="categoriesNodeSelect($event)"
                                [(selection)]="
                                    appTransactionsForViewDto.entityCategories
                                "
                            ></p-tree>
                        </div>
                        <!-- <p-treeSelect
                            class="md:w-20rem w-full"
                            containerStyleClass="w-full"
                            [(ngModel)]="selectedCategories"
                            selectionMode="checkbox"
                            [options]="categoriesFiles"
                            placeholder="Select Item..."
                            (onNodeExpand)="categoriesNodeExpand($event)"
                            (onNodeSelect)="categoriesNodeSelect($event)"
                        ></p-treeSelect> -->
                    </div>
                    <div *ngIf="ShoppingCartMode.view">
                        <div
                            class="d-flex align-items-center justify-content-between w-75"
                        >
                            <h6 class="previewTitle m-0 p-0">Categories :</h6>
                            <p
                                class="previewValue classificationsValues m-0 p-0"
                                *ngFor="
                                    let item of appTransactionsForViewDto?.entityCategories
                                "
                            >
                                {{ item }}
                            </p>
                        </div>
                    </div>
                </div>
                <!-- categories -->

                <!-- dates -->
                <div class="col-md-6 my-3">
                    <div *ngIf="ShoppingCartMode.createOrEdit">
                        <label class="label">Entered Date</label>
                        <p-calendar
                            [(ngModel)]="enterdDate"
                            [showIcon]="true"
                        ></p-calendar>
                    </div>
                    <div *ngIf="ShoppingCartMode.view">
                        <div
                            class="d-flex align-items-center justify-content-between w-75"
                        >
                            <h6 class="previewTitle m-0 p-0">Entered Date :</h6>
                            <p class="previewValue m-0 p-0">
                                {{ enterdDate | date : "dd/MM/yy " }}
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 my-3">
                    <div *ngIf="ShoppingCartMode.createOrEdit">
                        <label class="label">Start Date</label>
                        <p-calendar
                            [(ngModel)]="appTransactionsForViewDto.startDate"
                            [showIcon]="true"
                        ></p-calendar>
                    </div>
                    <div *ngIf="isReviewMode">
                        <div
                            class="d-flex align-items-center justify-content-between w-75"
                        >
                            <h6 class="previewTitle m-0 p-0">Start Date :</h6>
                            <p class="previewValue m-0 p-0">
                                {{ appTransactionsForViewDto?.startDate }}
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div *ngIf="ShoppingCartMode.createOrEdit">
                        <label class="label">Avaialable Date</label>
                        <p-calendar
                            [(ngModel)]="appTransactionsForViewDto.availableDate"
                            [showIcon]="true"
                        ></p-calendar>
                    </div>
                    <div *ngIf="ShoppingCartMode.view">
                        <div
                            class="d-flex align-items-center justify-content-between w-75"
                        >
                            <h6 class="previewTitle m-0 p-0">
                                Avaialable Date :
                            </h6>
                            <p class="previewValue m-0 p-0">
                                {{ appTransactionsForViewDto?.availableDate }}
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div *ngIf="ShoppingCartMode.createOrEdit">
                        <label class="label">Complete Date</label>
                        <p-calendar
                            [(ngModel)]="appTransactionsForViewDto.completeDate"
                            [showIcon]="true"
                        ></p-calendar>
                    </div>
                    <div *ngIf="ShoppingCartMode.view">
                        <div
                            class="d-flex align-items-center justify-content-between w-75"
                        >
                            <h6 class="previewTitle m-0 p-0">
                                Complete Date :
                            </h6>
                            <p class="previewValue m-0 p-0">
                                {{ appTransactionsForViewDto?.completeDate }}
                            </p>
                        </div>
                    </div>
                </div>
                <!-- dates -->
                <!-- currency -->
                <div class="col-md-6 mt-3">
                    <div *ngIf="ShoppingCartMode.createOrEdit">
                        <label class="label">Currency</label>
                        <p-dropdown
                            [options]="currencies"
                            [(ngModel)]="appTransactionsForViewDto.currencyId"
                            optionLabel="code"
                            optionValue="value"
                            class="w-100"
                        ></p-dropdown>
                    </div>
                    <div *ngIf="ShoppingCartMode.view">
                        <div
                            class="d-flex align-items-center justify-content-between"
                        >
                            <h6 class="previewTitle m-0 p-0">Currency :</h6>
                            <p class="previewValue m-0 p-0">
                                {{ appTransactionsForViewDto?.currencyCode }}
                            </p>
                        </div>
                    </div>
                </div>
                <!-- currency -->

                <!-- exchange rate -->
                <div class="col-md-6 mt-3">
                    <div *ngIf="ShoppingCartMode.createOrEdit" class="formGroup">
                        <label class="label">Exchange Rate</label>
                        <input
                            type="text"
                            placeholder="Exchange Rate..."
                            class="form-control w-100"
                            [(ngModel)]="rate"
                        />
                    </div>
                    <div *ngIf="ShoppingCartMode.view">
                        <div
                            class="d-flex align-items-center justify-content-between w-75"
                        >
                            <h6 class="previewTitle m-0 p-0">
                                Exchange Rate :
                            </h6>
                            <p class="previewValue m-0 p-0">
                                {{ rate }}
                            </p>
                        </div>
                    </div>
                </div>
                <!-- exchange rate -->
            </div>
        </div>
        <hr class="my-2" />
    </div>
</div>
